<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions">


<h:head>
	<title>Accueil Administrateur</title>
</h:head>

<h:body style="background-image :   url(resources/night.jpg); bac ">

	<h:form>
		<p:stack icon="/resources/stack.png" expanded="true">

			<p:menuitem value="Accueil" url="accueil.xhtml"
				icon="resources/PC.png" />

			<p:menuitem value="Produits" icon="/resources/BoiteCarton.png"
				url="gestionproduits.xhtml" />
			<p:menuitem value="Catégories" icon="/resources/dossier.png"
				url="categorieadmin.xhtml" />
			<p:menuitem value="Recherche" icon="resources/Loupe.png"
				url="recherche.xhtml" />
			<p:menuitem value="Enregistrer Stock" icon="/resources/PDF.png"
				action="#{adminMB.ecrirePDF}" />
			<p:menuitem value="Déconnexion" icon="/resources/deconnexion.png"
				action="#{adminMB.deconnexion}" />
				
		</p:stack>
	</h:form>



	<h1 style="text-align: center; color: gold">Liste des produits</h1>
	<p:separator style="color:gold"></p:separator>


	<p:dataTable var="produit" value="#{sessionScope.listeProduits}">
		<p:column headerText="Id">
			<h:outputText value="#{produit.idProduit}" />
		</p:column>

		<p:column headerText="Désignation">
			<h:outputText value="#{produit.designation}" />
		</p:column>

		<p:column headerText="Description">
			<h:outputText value="#{produit.description}" />
		</p:column>

		<p:column headerText="Prix">
			<h:outputText value="#{produit.prix}" />
		</p:column>

		<p:column headerText="Stock">
			<h:outputText value="#{produit.quantite}" />
		</p:column>

		<p:column headerText="Categorie ID/Désignation">
			<h:outputText value="#{produit.categorie.idCategorie}" />
			<h:outputText value="/" />
			<h:outputText value="#{produit.categorie.nomCategorie}" />

		</p:column>

		<p:column headerText="Illustration">
			<p:graphicImage value="#{ImageMB.image}" width="150px">
				<f:param name="idProduit" value="#{produit.idProduit}"></f:param>
			</p:graphicImage>
		</p:column>

		<p:column headerText="Supprimer le produit">
			<h:form>
				<h:commandButton value="Supprimer le produit"
					action="#{produitMB.supprimerProduit}">
					<f:setPropertyActionListener value="#{produit.idProduit}"
						target="#{produitMB.produit.idProduit}"></f:setPropertyActionListener>
				</h:commandButton>
			</h:form>

		</p:column>

	</p:dataTable>




	<h1 style="text-align: center; position: relative; color: gold">Liste
		des catégories</h1>
	<p:separator></p:separator>

	<p:dataTable var="categorie" value="#{sessionScope.listeCategories}">
		<p:column headerText="Id">
			<h:outputText value="#{categorie.idCategorie}" />
		</p:column>

		<p:column headerText="Désignation">
			<h:outputText value="#{categorie.nomCategorie}" />
		</p:column>

		<p:column headerText="Description">
			<h:outputText value="#{categorie.description}" />
		</p:column>

		<p:column headerText="Supprimer la catégorie">
			<h:form>

				<h:commandButton value="Supprimer"
					action="#{categorieMB.supprimerCategorie}">
					<f:setPropertyActionListener value="#{categorie.idCategorie}"
						target="#{categorieMB.categorie.idCategorie}"></f:setPropertyActionListener>
				</h:commandButton>
			</h:form>
		</p:column>

	</p:dataTable>








</h:body>
</html>