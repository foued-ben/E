<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<h:head>
	<title>Gestion des produits</title>
</h:head>

<h:body>


	
	<h1 style="text-align: center; position: relative; color: gold">Ajouter
		un produit</h1>

	<h:form enctype="multipart/form-data">
	<p:panelGrid columns="3">
				Designation : <p:inputText value="#{produitMB.produit.designation}"
			required="true" id="designation">
				<f:validator validatorId="Taillemini"></f:validator>
			</p:inputText> 						
				<p:message for="designation"></p:message>
			
		Description : <p:inputText value="#{produitMB.produit.description}"
			required="true" id="description"/> 	
			<p:message for="description"></p:message>
			
		Prix : <p:inputText value="#{produitMB.produit.prix}" required="true" id="prix"> 	
			<f:validator validatorId="verifPrix"></f:validator>
		</p:inputText>						
		<p:message for="prix"></p:message>
		
		Stock : <p:inputText value="#{produitMB.produit.quantite}" id="stock" validator="#{produitMB.validationStock}">
		
			</p:inputText>
			<p:message for="stock"></p:message>
			
		Catégorie (ID) : <p:inputText value="#{produitMB.idCategorie}" required="true" validator="#{produitMB.verifCategorie}" id="categorie"/>
							<p:message for="categorie"></p:message>
		
		Image : <p:fileUpload value="#{produitMB.imageFichier}" mode="simple" skinSimple="true"></p:fileUpload>

		<h:commandButton value="Ajouter" action="#{produitMB.ajouterProduit}"></h:commandButton>
			</p:panelGrid>
		
	<p:growl sticky="true"></p:growl>
	</h:form>


	<h1 style="text-align: center; position: relative; color: gold">Ajouter une image à un produit</h1>
	
	<h:form enctype="multipart/form-data">
		ID de produit : <h:inputText value="#{produitMB.produit.idProduit}"></h:inputText>
		<p:fileUpload value="#{produitMB.imageFichier}" mode="simple" skinSimple="true"></p:fileUpload>
		<h:commandButton value="Envoyer l'image" ajax="false" actionListener="#{produitMB.associationImageProduit}"></h:commandButton>
		<h:graphicImage value="image." alt="Image à envoyer" url="/image"></h:graphicImage>
	</h:form>




	<p:dataTable var="categorie" value="#{sessionScope.listeCategories}">

		<p:column headerText="Id">
			<h:outputText value="#{categorie.idCategorie}" />
		</p:column>

		<p:column headerText="Désignation">
			<h:outputText value="#{categorie.nomCategorie}" />
		</p:column>

		<p:column headerText="Description">
			<h:outputText value="#{categorie.description}" />
		</p:column>
	</p:dataTable>


</h:body>
</html>